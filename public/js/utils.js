export function generateUniqueId(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}export function escapeHtml(e){return"string"!=typeof e?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}export function scrollToBottom(e){e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}export function renderKatex(e){if(window.renderMathInElement)try{window.renderMathInElement(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})}catch(e){console.error("KaTeX rendering error:",e)}}export function renderContent(e,t){"string"==typeof e&&e?("undefined"!=typeof marked?t.innerHTML=marked.parse(e,{breaks:!0,gfm:!0,sanitize:!1}):(t.textContent=e,console.warn("Marked library not found. Rendering as plain text.")),renderKatex(t)):t.innerHTML=""}export function extractYouTubeUrl(e){const t=e.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return t?t[0]:null}