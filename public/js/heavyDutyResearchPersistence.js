import{HEAVY_DUTY_RESEARCH_STORAGE_PREFIX}from"./constants.js";export function saveHeavyDutyProgress(r,e){try{localStorage.setItem(`${HEAVY_DUTY_RESEARCH_STORAGE_PREFIX}${r}`,JSON.stringify(e)),console.log(`[HeavyDuty] Progress saved for ${r}`)}catch(e){console.error(`[HeavyDuty] Error saving progress for ${r}:`,e)}}export function loadHeavyDutyProgressForMessage(r){try{const e=localStorage.getItem(`${HEAVY_DUTY_RESEARCH_STORAGE_PREFIX}${r}`);if(e)return console.log(`[HeavyDuty] Progress loaded for ${r}`),JSON.parse(e)}catch(e){console.error(`[HeavyDuty] Error loading progress for ${r}:`,e)}return null}export function updateHeavyDutyProcessedData(r,e,o){const s=loadHeavyDutyProgressForMessage(r);s&&(e&&(s.processedData=s.processedData||[],s.processedData.find((r=>r.url===e.url))||s.processedData.push(e)),o&&(s.visitedUrls=s.visitedUrls||[],s.visitedUrls.includes(o)||s.visitedUrls.push(o)),saveHeavyDutyProgress(r,s))}export function clearHeavyDutyProgress(r){try{localStorage.removeItem(`${HEAVY_DUTY_RESEARCH_STORAGE_PREFIX}${r}`),console.log(`[HeavyDuty] Progress cleared for ${r}`)}catch(e){console.error(`[HeavyDuty] Error clearing progress for ${r}:`,e)}}