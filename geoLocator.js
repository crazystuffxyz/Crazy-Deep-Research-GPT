import axios from"axios";const geoCache=new Map,MAX_CACHE_SIZE=5e4;export async function geoLocate(e=""){if(geoCache.has(e)){const t=geoCache.get(e);return geoCache.delete(e),geoCache.set(e,t),t}try{const t=`https://data.leadboxer.com/api/ip-lookup?ip=${encodeURIComponent(e)}`,a=await axios.get(t,{headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"en-US,en;q=0.9",dnt:"1",origin:"https://www.opentracker.net",priority:"u=0, i",referer:"https://www.opentracker.net/feature/ip-tracker/","sec-ch-ua":'"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","x-api-key":"ec2d7a4d-b65f-4834-99c5-8f0670f1f04f"}});if(geoCache.set(e,a.data),geoCache.size>5e4){const e=geoCache.keys().next().value;geoCache.delete(e)}return a.data}catch(e){return{error:e.message||"Failed to fetch IP location."}}}